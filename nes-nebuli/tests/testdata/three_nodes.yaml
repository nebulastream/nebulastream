query: |
  SELECT * FROM (SELECT ts, a, id0 FROM stream0 WHERE a != b) INNER JOIN (SELECT * FROM stream1 WHERE c < d) ON id0 = id1 WINDOW TUMBLING (ts, size 1 sec) INTO sink

sinks:
  - name: sink
    schema: [ stream0stream1$start, stream0stream1$end, stream0$ts, stream0$a, stream0$id0, stream1$ts, stream1$id1, stream1$c, stream1$d ]
    host: "sink-node-host:9090"

logical:
  - name: stream0
    schema: [ ts, id0, a, b ]
  - name: stream1
    schema: [ ts, id1, c, d ]

physical:
  - logical: stream0
    host: "source-node0-host:9090"
  - logical: stream1
    host: "source-node1-host:9090"

workers:
  - host: "sink-node-host:9090"
    grpc: "sink-node:8080"
    capacity: 10
  - host: "source-node0-host:9090"
    grpc: "source-node0:8080"
    capacity: 4
    downstream:
      - "sink-node-host:9090"
  - host: "source-node1-host:9090"
    grpc: "source-node1:8080"
    capacity: 3
    downstream:
      - "sink-node-host:9090"
