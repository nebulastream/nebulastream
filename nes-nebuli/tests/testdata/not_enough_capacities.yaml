query: |
  SELECT * FROM (SELECT * FROM mock_source WHERE a > b) WHERE b > a INTO mock_sink

sinks:
  - name: mock_sink
    type: File
    schema:
      - name: mock_source$a
        type: INT32
      - name: mock_source$b
        type: INT32
    host: "sink-node-host:9090"
    config:
      input_format: CSV
      file_path: "[MOCKED]"
      append: false

logical:
  - name: mock_source
    schema:
      - name: a
        type: INT32
      - name: b
        type: INT32

physical:
  - logical: mock_source
    type: File
    host: "source-node-host:9090"
    parser_config:
      type: CSV
    source_config:
      file_path: "[MOCKED]"

workers:
  - host: "sink-node-host:9090"
    grpc: "sink-node:8080"
    capacity: 1
  - host: "source-node-host:9090"
    grpc: "source-node:8080"
    capacity: 0
    downstream:
      - "sink-node-host:9090"
