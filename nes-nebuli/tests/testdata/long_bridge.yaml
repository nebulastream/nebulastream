query: |
  SELECT * FROM stream INTO sink

sinks:
  - name: sink
    type: Print
    schema:
      - name: stream$ts
        dataType: UINT64
    host: "sink-node-host"
    config:
      inputFormat: CSV

logicalSources:
  - name: stream
    schema:
      - name: ts
        dataType: UINT64

physicalSources:
  - logicalSource: stream
    type: File
    host: "source-node-host"
    parserConfig:
      type: CSV
    sourceConfig:
      filePath: "[MOCKED]"

workerNodes:
  - host: "source-node-host"
    grpc: "source-node"
    capacity: 0
    downstreamNodes:
      - "intermediate-node0-host"
  - host: "intermediate-node0-host"
    grpc: "intermediate-node0"
    capacity: 0
    downstreamNodes:
      - "intermediate-node1-host"
  - host: "intermediate-node1-host"
    grpc: "intermediate-node1"
    capacity: 0
    downstreamNodes:
      - "sink-node-host"
  - host: "sink-node-host"
    grpc: "sink-node"
    capacity: 0
