# name: milestone/YahooStreamingBenchmark.test
# description: YahooStreamingBenchmark queries
# groups: [milestone, benchmark]

# LLVM LIT configuration
# RUN: sed -e "s@SINK@%sink@g" -e "s@TESTDATA@%testdata@g"< %s > %t &&  rm %tsink || true
# RUN: %client test -f %t -s %worker_address && %result_checker %t %tsink

# Source definitions
# MiSSING

Query::from("ysb")
    .filter(Attribute("event_type") < 1)
    .window(TumblingWindow::of(EventTime(Attribute("current_ms")), Seconds(30)))
    .byKey(Attribute("campaign_id"))
    .apply(Sum(Attribute("user_id")))
    .SINK;
----
