# name: inference/experiments.test
# description: Iris dataset experiments
# groups: [Inference]

Source streamFloat FLOAT32 p1 FLOAT32 p2 FLOAT32 p3 FLOAT32 p4 FILE
TESTDATA/small/iris.csv

Source generatorIris UINT64 id FLOAT32 p1 FLOAT32 p2 FLOAT32 p3 FLOAT32 p4 GENERATOR
CONFIG/sources/generator_iris.yaml

SINK classificationThreeSeparate FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica

MODEL tabnet32 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 32

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet32, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet64 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 64

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet64, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet128 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 128

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet128, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet256 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 256

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet256, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet512 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 512

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet512, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet1024 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 1024

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet1024, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet2048 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 2048

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet2048, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet4096 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 4096

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet4096, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet8192 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 8192

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet8192, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet16384 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 16384

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet16384, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet32768 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 32768

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet32768, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet65536 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 65536

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet65536, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet131072 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 131072

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet131072, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022

MODEL tabnet174762 TESTDATA/model/tabnet.onnx
FLOAT32 FLOAT32 FLOAT32 FLOAT32
FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica
BATCH_SIZE 174762

SELECT setosa, versicolor, virginica
FROM (SELECT INFER_MODEL(tabnet174762, (p1,p2,p3,p4)) FROM generatorIris)
INTO CHECKSUM
----
10000000,12690002022
