query: |
  Query::from("tcp_source")
    .filter(Attribute("id") < 16)
    .sink(Sinks::SinkDescriptor::create("File", {{"inputFormat", "CSV"}, {"filePath", "[GENERATED_IN_TEST]"}, {"append", "false"}}));
logical:
  - name: tcp_source
    schema:
      - name: id
        type: UINT64
physical:
  - logical: tcp_source
    config:
      type: TCP
      socketDomain: AF_INET
      socketType: SOCK_STREAM
      socketPort: 0 # Generated in test to avoid port conflicts.
      socketHost: localhost
      inputFormat: CSV
      socketBufferSize: 2
      decideMessageSize: TUPLE_SEPARATOR
      flushIntervalMS: 100
  - logical: tcp_source
    config:
      type: TCP
      socketDomain: AF_INET
      socketType: SOCK_STREAM
      socketPort: 0 # Generated in test to avoid port conflicts.
      socketHost: localhost
      inputFormat: CSV
      socketBufferSize: 2
      decideMessageSize: TUPLE_SEPARATOR
      flushIntervalMS: 100
